
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://natureform.github.io/NatureForm_Docs.github.io/Frontend/Framework/">
      
      
        <link rel="prev" href="../FloorplanConfigurator/">
      
      
        <link rel="next" href="../ModelConfigurator/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Framework - NatureForm Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.84d31ad4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#framework-why-we-use-react" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="NatureForm Documentation" class="md-header__button md-logo" aria-label="NatureForm Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NatureForm Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Framework
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../2dPhysics/" class="md-tabs__link">
          
  
  
  Frontend

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="NatureForm Documentation" class="md-nav__button md-logo" aria-label="NatureForm Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    NatureForm Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Frontend
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Frontend
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2dPhysics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2D Physics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../FloorplanConfigurator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Floorplan Configurator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Framework
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Framework
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-react" class="md-nav__link">
    <span class="md-ellipsis">
      Why React?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-it-all-works-together-data-flow" class="md-nav__link">
    <span class="md-ellipsis">
      How It All Works Together: Data Flow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How It All Works Together: Data Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-step-by-step-flow" class="md-nav__link">
    <span class="md-ellipsis">
      The Step-by-Step Flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-bridge-to-threejs-useeffect" class="md-nav__link">
    <span class="md-ellipsis">
      The Bridge to three.js: useEffect
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ModelConfigurator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model Configurator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../SilhouetteExtractor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Silhouette Extractor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ThreeJS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Three.js
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-react" class="md-nav__link">
    <span class="md-ellipsis">
      Why React?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-it-all-works-together-data-flow" class="md-nav__link">
    <span class="md-ellipsis">
      How It All Works Together: Data Flow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How It All Works Together: Data Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-step-by-step-flow" class="md-nav__link">
    <span class="md-ellipsis">
      The Step-by-Step Flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-bridge-to-threejs-useeffect" class="md-nav__link">
    <span class="md-ellipsis">
      The Bridge to three.js: useEffect
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="framework-why-we-use-react">Framework: Why We Use React</h1>
<p>This document provides a high-level overview of why React was chosen as the framework for this application and how its core principles are used to manage our interactive tools.</p>
<h2 id="why-react">Why React?</h2>
<p>React is a JavaScript library for building user interfaces. It's particularly well-suited for our project, which involves managing complex, interactive state for both a 2D editor and a 3D configurator.</p>
<ul>
<li>
<p><strong>Component-Based Architecture:</strong> Our entire application is built from small, independent, and reusable "components."</p>
<ul>
<li>The <code>Floorplan</code> selector is a component.</li>
<li>The <code>FloorplanWorkspace</code> editor is another component.</li>
<li>The <code>Configurator</code> 3D scene is a component.</li>
<li>Even the UI sliders and buttons are individual components.
    This makes the code easy to manage, test, and update without one part breaking another.</li>
</ul>
</li>
<li>
<p><strong>Declarative UI (State Management):</strong> This is the most important concept.</p>
<ul>
<li><strong>Traditional (Imperative):</strong> In older code, you'd write step-by-step instructions like: "find the slider," "get its value," "find the 3D model," "update the model's X position." This is complex and error-prone.</li>
<li><strong>React (Declarative):</strong> We simply <em>declare</em> the state we want. We have a state variable, <code>modelPositionX</code>. The slider's value is <em>bound</em> to this state, and the 3D model's position is <em>derived</em> from this state. When the user moves the slider, it updates the state, and React automatically ensures the 3D model's position updates to match. We just describe the "what" (the model's position should match this variable), and React handles the "how."</li>
</ul>
</li>
<li>
<p><strong>Rich Ecosystem:</strong> React is the most popular UI library, meaning it has a massive community and integrates well with other libraries. This is crucial for us, as it simplifies the integration of powerful tools like <strong><code>three.js</code></strong> (for 3D graphics) and <strong><code>react-router-dom</code></strong> (for navigation).</p>
</li>
</ul>
<h2 id="how-it-all-works-together-data-flow">How It All Works Together: Data Flow</h2>
<p>React uses a <strong>one-way data flow</strong>, which makes the application predictable. Data flows "down" from parent components to children, and events (like user clicks) flow "up" via callback functions.</p>
<p>Here is a simplified diagram of our application's architecture:</p>
<pre><code>[ App.js ]  &lt;---------------------------------------+
   |                                                | 4. `onFinish` callback updates the
   | (State: floorplanPoints)                       |    `floorplanPoints` state.
   |                                                |
   +--&gt; [ Floorplan.js ] --- (passes onFinish) ----&gt; [ FloorplanWorkspace.js ]
   |      (Renders workspace)                         |
   |                                                  | 3. User clicks &quot;Finish,&quot;
   |                                                  |    and workspace calls `onFinish(points)`.
   |                                                  |
   +--&gt; [ Configurator.js ] &lt;------------------------+
        (Receives floorplanPoints as a &quot;prop&quot;)        |
                                                      | 5. React sees state changed
                                                      |    and re-renders Configurator
                                                      |    with the *new* points.
</code></pre>
<h3 id="the-step-by-step-flow">The Step-by-Step Flow</h3>
<ol>
<li>
<p><strong>Top-Level State:</strong> The main <code>App</code> component holds the most important piece of state: <code>floorplanPoints</code>.</p>
</li>
<li>
<p><strong>Data Down (Props):</strong></p>
<ul>
<li>The <code>App</code> component renders the <code>Floorplan</code> component, passing it a function prop called <code>onFinish</code>.</li>
<li>The <code>App</code> component also renders the <code>Configurator</code> component, passing it the <em>current</em> <code>floorplanPoints</code> array as a prop.</li>
</ul>
</li>
<li>
<p><strong>Events Up (Callbacks):</strong></p>
<ul>
<li>When the user finishes drawing in the <code>FloorplanWorkspace</code>, they click the "Finish" button.</li>
<li>The workspace calls the <code>onFinish</code> function it received, passing the new array of points (e.g., <code>onFinish([...])</code>).</li>
</ul>
</li>
<li>
<p><strong>State Update:</strong></p>
<ul>
<li>This <code>onFinish</code> function lives in the main <code>App</code> component. When called, it updates the <code>floorplanPoints</code> state inside <code>App</code> with the new points.</li>
</ul>
</li>
<li>
<p><strong>Automatic Re-render:</strong></p>
<ul>
<li>React detects that the <code>floorplanPoints</code> state has changed.</li>
<li>It automatically re-renders any component that depends on that state. In this case, it re-renders the <code>Configurator</code> component.</li>
<li>The <code>Configurator</code> now receives the <em>new</em> <code>floorplanPoints</code> as its prop, triggering its internal <code>useEffect</code> hook to discard the old 3D floor and generate a new one.</li>
</ul>
</li>
</ol>
<h3 id="the-bridge-to-threejs-useeffect">The Bridge to <code>three.js</code>: <code>useEffect</code></h3>
<p>React manages the DOM, but <strong><code>three.js</code></strong> manages a <code>&lt;canvas&gt;</code> element. We use the <strong><code>useEffect</code> hook</strong> as the bridge between these two worlds.</p>
<p>In the <code>Configurator</code> component, the <code>useEffect</code> hook essentially says: "When the <code>floorplanPoints</code> prop changes, run this code to build (or re-build) the <code>three.js</code> scene."</p>
<p>This hook is also responsible for <strong>cleanup</strong>. When the component is removed, the <code>useEffect</code>'s return function runs, which safely disposes of all <code>three.js</code> geometries, materials, and the renderer. This prevents memory leaks and is a critical part of mixing React with external libraries.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>